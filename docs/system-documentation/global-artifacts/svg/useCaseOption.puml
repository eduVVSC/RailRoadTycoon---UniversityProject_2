@startuml
@startuml
left to right direction
skinparam packageStyle rectangle
actor Player
actor Editor
actor ProductOwner

package Simulator{

    package "Map Management" {
        usecase "UC1 - Create Map" as UC1
        usecase "UC19 - Save Map" as UC19
        usecase "UC20 - Load Map" as UC20
    }

    package "Scenario Management" {
        usecase "UC2 - Add Industry" as UC2
        usecase "UC3 - Add City" as UC3
        usecase "UC4 - Create Scenario" as UC4
        usecase "UC21 - Save Scenario" as UC21
        usecase "UC22 - Load Scenario" as UC22
    }

    package "Simulation Control" {
        usecase "UC5 - Build Station" as UC5
        usecase "UC6 - Upgrade Station" as UC6
        usecase "UC7 - List Stations" as UC7
        usecase "UC8 - Build Railway Line" as UC8
        usecase "UC9 - Buy Locomotive" as UC9
        usecase "UC10 - Assign Train to Route" as UC10
        usecase "UC11 - List Trains" as UC11
        usecase "UC12 - Play/Pause Simulation" as UC12
        usecase "UC13 - Check Route Feasibility" as UC13
        usecase "UC14 - Check Full Line Coverage" as UC14
        usecase "UC27 - Shortest Route Between Stations" as UC27
        usecase "UC23 - Save Game" as UC23
        usecase "UC24 - Load Game" as UC24
        usecase "UC25 - View Financial Results" as UC25
    }

    package "Analysis" {
        usecase "UC15 - Station Statistics" as UC15
        usecase "UC16 - Passenger Comparison" as UC16
        usecase "UC17 - Cargo Overview" as UC17
        usecase "UC18 - Distribution Analysis" as UC18
        usecase "UC31 - Cargo Revenue Analysis" as UC31
    }

    package "Testing & Validation" {
        usecase "UC26 - Evaluate Algorithms UC13/14" as UC26
        usecase "UC28 - Evaluate Algorithm UC27" as UC28
        usecase "UC29 - Performance Tests (UC13/14)" as UC29
        usecase "UC30 - Best Fit Curve (UC29)" as UC30
    }
}

' Player interactions
Player --> UC5
Player --> UC6
Player --> UC7
Player --> UC8
Player --> UC9
Player --> UC10
Player --> UC11
Player --> UC12
Player --> UC13
Player --> UC14
Player --> UC15
Player --> UC16
Player --> UC17
Player --> UC18
Player --> UC23
Player --> UC24
Player --> UC25
Player --> UC27
Player --> UC31

' Product Owner interactions
ProductOwner --> UC26
ProductOwner --> UC28
ProductOwner --> UC29
ProductOwner --> UC30

' Editor interactions
Editor --> UC1
Editor --> UC2
Editor --> UC3
Editor --> UC4
Editor --> UC19
Editor --> UC20
Editor --> UC21
Editor --> UC22
@enduml

@enduml